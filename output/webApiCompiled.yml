openapi: 3.0.3
info:
  title: web api
  description: This is my API
  version: 1.0.0
paths:
  /order:
    post:
      operationId: '/order:post'
      description: ?啣??∠?
      tags:
        - order
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/order'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/orderPostResponse'
  '/order/{orderId}':
    get:
      operationId: '/order/{orderId}:get'
      description: ???∠?
      tags:
        - order
      parameters:
        - in: path
          name: orderId
          schema:
            type: integer
            format: int64
          required: true
          description: Numeric ID of the order to get
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/orderGetResponse'
    patch:
      operationId: '/order/{orderId}:patch'
      description: ?湔?∠?
      tags:
        - order
      parameters:
        - in: path
          name: orderId
          schema:
            type: integer
            format: int64
          required: true
          description: Numeric ID of the order to update
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/order'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/orderPatchResponse'
    delete:
      operationId: '/order/{orderId}:delete'
      description: ?芷?∠?
      tags:
        - order
      parameters:
        - in: path
          name: orderId
          schema:
            type: integer
            format: int64
          required: true
          description: Numeric ID of the order to delete
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/orderDeleteRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/orderDeleteResponse'
  /user:
    post:
      operationId: '/user:post'
      description: ?啣??冽
      tags:
        - user
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/user'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/userPostResponse'
  '/user/{userId}':
    get:
      operationId: '/user/{userId}:get'
      description: ???∠?
      tags:
        - user
      parameters:
        - in: path
          name: userId
          schema:
            type: integer
            format: int64
          required: true
          description: Numeric ID of the user to get
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/userGetResponse'
    delete:
      operationId: '/user/{userId}:delete'
      description: ?芷?∠?
      tags:
        - user
      parameters:
        - in: path
          name: userId
          schema:
            type: integer
            format: int64
          required: true
          description: Numeric ID of the user to delete
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/userDeleteRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/userDeleteResponse'
components:
  schemas:
    id:
      type: object
      properties:
        id:
          type: integer
          format: int64
    result:
      type: object
      properties:
        code:
          type: integer
        message:
          type: string
        requestId:
          type: string
        success:
          type: boolean
    phoneNumber:
      type: object
      title: phoneNumber
      properties:
        countryCode:
          type: integer
          format: int32
        nationalPhoneNumber:
          type: string
    page:
      type: object
      properties:
        total:
          type: integer
          format: int64
        size:
          type: integer
          format: int64
        current:
          type: integer
          format: int64
        pages:
          type: integer
          format: int64
    order:
      type: object
      x-class-extra-annotation: '@com.baomidou.mybatisplus.annotation.TableName("`order`")'
      properties:
        id:
          type: integer
          format: int64
          x-field-extra-annotation: '@com.baomidou.mybatisplus.annotation.TableId(type = com.baomidou.mybatisplus.annotation.IdType.AUTO)'
        userId:
          type: integer
          format: int64
        productId:
          type: integer
          format: int32
        orderAmount:
          type: integer
          format: int32
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
    orderQuery:
      allOf:
        - $ref: '#/components/schemas/order'
        - type: object
          properties:
            createdAtFrom:
              type: string
              format: date-time
            createdAtTo:
              type: string
              format: date-time
            updatedAtFrom:
              type: string
              format: date-time
            updatedAtTo:
              type: string
              format: date-time
    orderPostRequest:
      $ref: '#/components/schemas/order'
    orderPostResponse:
      type: object
    orderGetRequest:
      $ref: '#/components/schemas/orderQuery'
    orderGetResponse:
      allOf:
        - $ref: '#/components/schemas/result'
        - type: object
          properties:
            data:
              allOf:
                - $ref: '#/components/schemas/order'
                - type: object
                  properties:
                    createdAt:
                      type: Filtered
                    updatedAt:
                      type: Filtered
    orderPatchRequest:
      $ref: '#/components/schemas/order'
    orderPatchResponse:
      allOf:
        - $ref: '#/components/schemas/result'
        - type: object
          properties:
            data:
              allOf:
                - $ref: '#/components/schemas/order'
                - type: object
                  properties:
                    createdAt:
                      type: Filtered
                      description: data filtered
                    updatedAt:
                      type: Filtered
                      description: data filtered
    orderDeleteRequest:
      type: object
    orderDeleteResponse:
      type: object
    product:
      type: object
      x-class-extra-annotation: '@com.baomidou.mybatisplus.annotation.TableName("`product`")'
      properties:
        id:
          type: integer
          format: int64
          x-field-extra-annotation: '@com.baomidou.mybatisplus.annotation.TableId(type = com.baomidou.mybatisplus.annotation.IdType.AUTO)'
        productCategoryId:
          type: integer
          format: int64
        unitPrice:
          type: number
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
    productQuery:
      allOf:
        - $ref: '#/components/schemas/product'
        - type: object
          properties:
            createdAtFrom:
              type: string
              format: date-time
            createdAtTo:
              type: string
              format: date-time
            updatedAtFrom:
              type: string
              format: date-time
            updatedAtTo:
              type: string
              format: date-time
    productCategory:
      type: object
      x-class-extra-annotation: '@com.baomidou.mybatisplus.annotation.TableName("`product_category`")'
      properties:
        id:
          type: integer
          format: int64
          x-field-extra-annotation: '@com.baomidou.mybatisplus.annotation.TableId(type = com.baomidou.mybatisplus.annotation.IdType.AUTO)'
        categoryName:
          type: string
        taxRate:
          type: number
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
    productCategoryQuery:
      allOf:
        - $ref: '#/components/schemas/productCategory'
        - type: object
          properties:
            createdAtFrom:
              type: string
              format: date-time
            createdAtTo:
              type: string
              format: date-time
            updatedAtFrom:
              type: string
              format: date-time
            updatedAtTo:
              type: string
              format: date-time
    user:
      type: object
      x-class-extra-annotation: '@com.baomidou.mybatisplus.annotation.TableName("`user`")'
      properties:
        id:
          type: integer
          format: int64
          x-field-extra-annotation: '@com.baomidou.mybatisplus.annotation.TableId(type = com.baomidou.mybatisplus.annotation.IdType.AUTO)'
        username:
          type: string
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
    userQuery:
      allOf:
        - $ref: '#/components/schemas/user'
        - type: object
          properties:
            createdAtFrom:
              type: string
              format: date-time
            createdAtTo:
              type: string
              format: date-time
            updatedAtFrom:
              type: string
              format: date-time
            updatedAtTo:
              type: string
              format: date-time
    userPostRequest:
      $ref: '#/components/schemas/user'
    userPostResponse:
      type: object
    userGetRequest:
      $ref: '#/components/schemas/userQuery'
    userGetResponse:
      allOf:
        - $ref: '#/components/schemas/result'
        - type: object
          properties:
            data:
              allOf:
                - $ref: '#/components/schemas/user'
                - type: object
                  properties:
                    orders:
                      type: array
                      items:
                        type: object
                        properties:
                          id:
                            type: integer
                            format: int64
                          totalCost:
                            type: number
                    createdAt:
                      type: Filtered
                      description: data filtered
                    updatedAt:
                      type: Filtered
                      description: data filtered
    userDeleteRequest:
      type: object
    userDeleteResponse:
      type: object

